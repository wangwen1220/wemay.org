(function(){var $=window,_=Jla,a=["Ali.Map.Layer.Tile.AliMapAnchor"];_.define([{pattern:a[0],load:function(){_.require(["Ali.Map.Projection.Mercator","Ali.Map.Layer.Tile.Render.Anchor","Ali.Map.Layer.Tile","Js.Script","Js.Html.Dom","Js.Event","Ali.Map.LatLng"],5,function(b,c,d,e,f,g,h){function i(){return new d({prj:new b,tileOrigin:{x:-180,y:-180},minLevel:12,maxLevel:18,tileRender:new c({servUrl:(location.protocol=="https:"?'https://tilemap.ditu.aliyun.com/':'http://img.ditu.aliyun.com/')+'get_png?v=v6&',charset:'gb2312',onPoiClick:function(a,b){var c=this
var d=c.layer.control.map;if(!d)return;if(a.kind==7||a.id&&a.id.substr(10,4)=="0005"){var f=d._bdLoader||(d._bdLoader=_.getLoader(function($){_.require("Ali.Map.Mod.busDetail",3,$,[d])}));_.run(function($){b=a.latlng||b;$.showStation({name:a.name,latlng:b,stationType:a.kind==7?"Subway":"Bus"})},f)}else if(a.id){if(!$[c.cbName+"_Info"])$[c.cbName+"_Info"]=g.getCallback(c,c.onInfoLoaded);var h=typeof a.id=="number"?a.id.toFixed():a.id.toString();e.load((location.protocol=="https:"?'https:':'http:')+'//basic.ditu.aliyun.com/alimapdata?&t=d&ot=p&d=1&'+"i="+h+"&cb="+c.cbName+"_Info")}else{var i=d.openInfoWindow(b,a.name,a.name,{bindObj:{name:a.name}})
i.moveIntoView()}},onInfoLoaded:function($){if(!$||!this.currentPoi||$.Id!=this.currentPoi.id)return;var _=[],a=document.createElement("div");f.setStyle(a,{width:'300px'});if($.TelNo)_.push("\u7535\u8bdd\uff1a"+$.TelNo);if($.DistName)_.push("\u5730\u5740\uff1a"+$.DistName);if($.ZipCode)_.push("\u90ae\u7f16\uff1a"+$.ZipCode);if($.Url)_.push("<a href='"+$.Url+"' target='_blank' style='color:#569cf1;margin:0px;line-height:20px;'>\u66f4\u591a\u4fe1\u606f</a>");a.innerHTML=_.join("<br/>");var b=this.layer.control.map.openInfoWindow(new h($.Geo[0],$.Geo[1]),$.Name,a,{bindObj:{name:$.Name}})
b.moveIntoView()}})})}_.set(a[0],i)})},level:20}]);_.require(a[0],1)})()